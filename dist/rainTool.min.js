!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rainTool=e()}(this,function(){"use strict";function n(t,e){return Math.pow(t,e)}function e(t){for(var e=0,n=t.concat(),r=0;r<n.length;r++)n[r]=parseFloat(n[r]),e+=n[r];return e}function o(t,e){return Math.round(t*n(10,e))/n(10,e)}var t="1.2.0",r=Object.freeze({__proto__:null,add:function(t,e){return parseFloat(t)+parseFloat(e)},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e,n){return null==n?t/e:(t/e).toFixed(n)},power:n,remainder:function(t,e){return t%e},sum:e,sumBy:function(t,e){for(var n=0,r=t.concat(),o=0;o<r.length;o++)r[o]=e(r[o]),r[o]=parseFloat(r[o]),n+=r[o];return n},min:function(t){for(var e=t.concat(),n=parseFloat(e[0]),r=1;r<e.length;r++)e[r]=parseFloat(e[r]),n>e[r]&&(n=e[r]);return n},minBy:function(t,e){for(var n=t.concat(),r=parseFloat(n[0]),o=1;o<n.length;o++)n[o]=parseFloat(e(n[o])),r>n[o]&&(r=n[o]);return r},max:function(t){for(var e=t.concat(),n=parseFloat(e[0]),r=1;r<e.length;r++)e[r]=parseFloat(e[r]),n<e[r]&&(n=e[r]);return n},maxBy:function(t,e){for(var n=t.concat(),r=parseFloat(n[0]),o=1;o<n.length;o++)n[o]=parseFloat(e(n[o])),r<n[o]&&(r=n[o]);return r},mean:function(t){return e(t)/t.length},abs:function(t,e){return null==e?Math.abs(t):o(Math.abs(t),e)},clamp:function(t,e,n){return e<=t&&t<=n?parseFloat(t):n<t?n:t<e?e:void 0},inRange:function(t,e,n){return e<=t&&t<=n},ceil:function(t,e){return Math.ceil(t*n(10,e))/n(10,e)},floor:function(t,e){return Math.floor(t*n(10,e))/n(10,e)},round:o,random:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},version:t});function i(t){return/^[A-Za-z0-9]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)}function a(t){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(t)}function u(t,e,n){return new RegExp("^[a-zA-Z][a-zA-Z0-9_]{"+e+","+n+"}$").test(t)}i.chinese=function(t){return/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)},a.landline=function(t){return/(\(\d{3,4}\)|\d{3,4}-|\s)?\d{8}/.test(t)},u.chinese=function(t,e,n){return new RegExp("^[一-龥]{"+e+","+n+"}$").test(t)},u.addChinese=function(t,e,n){return new RegExp("^[a-zA-Z一-龥][a-zA-Z0-9_一-龥]{"+e+","+n+"}$").test(t)};var f="1.1.0",s=Object.freeze({__proto__:null,isEmail:i,isPhone:a,isDomain:function(t){return/^((http:\/\/)|(https:\/\/))?([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}(\/)/.test(t)},isIP:function(t){return/((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d?\d))/.test(t)},account:u,password:function(t,e,n){return new RegExp("^[a-zA-Z][a-zA-Z0-9]{"+e+","+n+"}$").test(t)},isTrainTimes:function(t){return/^[GCDZTSPKXLY1-9]\d{1,4}$/.text(t)},isMd5:function(t){return/^([a-f\d]{32}|[A-F\d]{32})$/.text(t)},isVideo:function(t){return/^https?:\/\/(.+\/)+.+(\.(swf|avi|flv|mpg|rm|mov|wav|asf|3gp|mkv|rmvb|mp4))$/i.text(t)},isImage:function(t){return/^https?:\/\/(.+\/)+.+(\.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i.text(t)},isQQ:function(t){return/^[1-9][0-9]{4,10}$/.text(t)},version:f});function c(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n})}var l,h=(l={},{on:function(t,e){l[t]?l[t].push(e):l[t]=[e]},off:function(t){t?delete l[t]:l={}},emit:function(t,e){if(l[t]&&0<l[t].length)for(var n=0;n<l[t].length;n++)l[t][n](e)},read:function(){return l}}),p={time:function(t){return(Math.random()*Date.now()).toString(t).replace(".","")},number:function(t){return Math.round(Math.random()*Math.pow(10,t))},string:function(t){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n},symbols:function(t){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@$!%*#_~?&^",n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n},custom:function(t,e){for(var n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}};var d,g=(d={},{subscribe:function(t,e){var n=p.string(6);return d[t]?d[t][n]=e:d[t]={},d[t][n]=e,n},publish:function(t,e){if(d[t])for(var n in d[t])d[t][n](e)},unsubscribe:function(t){if(t){if("string"==typeof t)if(t in d)delete d[t];else for(var e in d)for(var n in d[e]){n===t&&delete d[e][n];break}}else d={}},read:function(){return d}});function v(t,e){setTimeout(t,1e3*e)}v.sync=function(t){for(var e=(new Date).getTime();(new Date).getTime()-e<1e3*t;);},v.promise=function(n){return new Promise(function(t,e){setInterval(function(){t()},1e3*n)})};var _="1.7.0",y=Object.freeze({__proto__:null,debounce:function(r,o,i){var a;return function(){var t,e=this,n=arguments;a&&clearTimeout(a),i?(t=!a,a=setTimeout(function(){a=null},1e3*o),t&&r.apply(e,n)):a=setTimeout(function(){r.apply(e,n)},1e3*o)}},throttle:function(r,o,i){var a,u;return i&&(a=0),function(){var t,e=this,n=arguments;i?(t=Date.now(),1e3*o<t-a&&(r.apply(e,n),a=t)):u=u||setTimeout(function(){u=null,r.apply(e,n)},1e3*o)}},clone:function(t){if("object"!=typeof t||null==t)return t;var e,n=t.constructor===Array?[]:{};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},deepClone:function t(e){if("object"!=typeof e||null==e)return e;var n,r=e.constructor===Array?[]:{};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r},matches:c,add_EventListener:function(e,t,n,r,o){"string"==typeof e&&(e=document.querySelector(e)),o=o||!1,r?e.addEventListener?e.addEventListener(t,function(t){var e=t.target;e.matches(r)&&n.call(e,t)},o):(c(),e.attachEvent("on"+t,function(t){var e=t.srcElement;e.matches(r)&&n.call(e,t)})):e.addEventListener?e.addEventListener(t,n,o):e.attachEvent("on"+t,function(t){n.call(e,t)})},eventNewBus:function(){this.callbacks={},this.on=function(t,e){this.callbacks[t]?this.callbacks[t].push(e):this.callbacks[t]=[e]},this.off=function(t){t?delete this.callbacks[t]:this.callbacks={}},this.emit=function(t,e){if(this.callbacks[t]&&0<this.callbacks[t].length)for(var n=0;n<this.callbacks[t].length;n++)this.callbacks[t][n](e)}},eventBus:h,uuid:p,newPubSub:function(){this.callbacks={},this.subscribe=function(t,e){var n=p.string(6);return this.callbacks[t]?this.callbacks[t][n]=e:this.callbacks[t]={},this.callbacks[t][n]=e,n},this.publish=function(t,e){if(this.callbacks[t])for(var n in this.callbacks[t])this.callbacks[t][n](e)},this.unsubscribe=function(t){if(t){if("string"==typeof t)if(t in this.callbacks)delete this.callbacks[t];else for(var e in this.callbacks)for(var n in this.callbacks[e]){n===t&&delete this.callbacks[e][n];break}}else this.callbacks={}}},PubSub:g,sleep:v,version:_});var b=Object.freeze({__proto__:null,css:function(t){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)},js:function(t,e,n,r){console.log(t,e,n,r);var o=document.createElement("script");o.type=r||"text/javascript",o.async=!!n,o.src=t,document.getElementsByTagName(e||"head")[0].appendChild(o)},icon:function(t,e){var n=document.getElementsByTagName("link");if(n.length)for(var r=0;r<n.length;r++)if("shortcut icon"===n[r].rel||"icon"===n[r].rel){n[r].remove();break}var o=document.createElement("link");o.rel="shortcut icon",o.type=e||"image/x-icon",o.href=t,document.getElementsByTagName("head")[0].appendChild(o)},version:"1.0.0"});var m=Object.freeze({__proto__:null,map:function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t));return n},reduce:function(t,e,n){for(var r,o=null==n?(r=t[0],1):(r=n,0);o<t.length;)r=e(r,t[o],o,t);return r},filter:function(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n},find:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},findIndex:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},every:function(t,e){if(0===t.length)return!0;for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},some:function(t,e){if(0===t.length)return!1;for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},unique:function(t){for(var e=[],n={},r=0;r<t.length;r++)null==n[t[r]]&&(n[t[r]]=!0,e.push(t[r]));return e},slice:function(t,e,n){var r=[];if(0===t.length||e>=t.length||n<=e)return[];(e=e||0)<0&&(e=t.length+e),(n=(n=n||t.length)>t.length?t.length:n)<0&&(n=t.length+n);for(var o=e;o<n;o++)r.push(t[o]);return r},flatten:function t(e){for(var n=[],r=0;r<e.length;r++)e[r].constructor===Array?n=n.concat(t(e[r])):n.push(e[r]);return n},chunk:function(t,e){var n=[],r=[];e=e||1;for(var o=0;o<t.length;o++)r.push(t[o]),r.length!==e&&o!==t.length-1||(n.push(r),r=[]);return n},difference:function(t,e){var n=[],r=!1;if(0===t.length)return[];if(0===e.length)return t.slice();for(var o=0;o<t.length;o++){for(var i=0;i<e.length;i++)t[o]===e[i]&&(r=!0);r||n.push(t[o]),r=!1}return n},pull:function(t){for(var e=[],n=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++)for(var o=0;o<n.length;o++)t[r]===n[o]&&(e.push(t[r]),t.splice(r,1),r--);return e},pullAll:function(t,e){for(var n=[],r=0;r<t.length;r++)for(var o=0;o<e.length;o++)t[r]===e[o]&&(n.push(t[r]),t.splice(r,1),r--);return n},version:"1.4.0"});var A=Object.freeze({__proto__:null,newInstance:function(t){var e={},n=Array.prototype.slice.call(arguments,1),n=t.apply(e,n);return e.__proto__=t.prototype,n instanceof Object?n:e},myInstanceof:function(t,e){for(var n=e.prototype,r=t.__proto__;r;){if(r===n)return!0;r=r.__proto__}return!1},mergeObject:function(){for(var t={},e=0;e<arguments.length;e++)for(var n in arguments[e])t.hasOwnProperty(n)?t[n]=[].concat(t[n],arguments[e][n]):t[n]=arguments[e][n];return t},version:"1.1.0"});function w(t){return t.split("").reverse().join("")}var k=Object.freeze({__proto__:null,reverse:w,palindrome:function(t){return t===w(t)},truncate:function(t,e){return t.length>e?t.slice(0,e)+"...":t},version:"1.0.0"}),z={},B={},j={};function S(n,r,t,o){Object.defineProperty(z[n],r,{get:function(){return"function"==typeof t&&t(z[n][B[n][r]]),z[n][B[n][r]]},set:function(t){var e;"function"!=typeof o||null!=(e=o(z[n][B[n][r]],t))&&(t=e),z[n][B[n][r]]=t,j[n][r]=t}})}var h=Object.freeze({__proto__:null,register:function(t){var e,n=p.string(8);for(e in z[n]={},B[n]={},j[n]=t){var r=p.string(10);B[n][e]=r,z[n][r]=t[e]}return{objId:n,listenObj:z[n]}},listen:S,listenAll:function(t,e,n){for(var r in B[t])S(t,r,e,n)},read:function(){return{listenerData:z,keyIdData:B,prevObj:j}},version:"1.2.0"}),E=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function M(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+e[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+e[3]-1044525330|0)<<22|r>>>10)+o|0;r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+e[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+e[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+e[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+e[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+e[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+e[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+e[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+e[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+e[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+e[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+e[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+e[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+e[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+e[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+e[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+e[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+e[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+e[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+e[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+e[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+e[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+e[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function F(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e}function x(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t[n]+(t[n+1]<<8)+(t[n+2]<<16)+(t[n+3]<<24);return e}function C(t){for(var e,n,r,o,i=t.length,a=[1732584193,-271733879,-1732584194,271733878],u=64;u<=i;u+=64)M(a,F(t.substring(u-64,u)));for(e=(t=t.substring(u-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<e;u+=1)n[u>>2]|=t.charCodeAt(u)<<(u%4<<3);if(n[u>>2]|=128<<(u%4<<3),55<u)for(M(a,n),u=0;u<16;u+=1)n[u]=0;return o=(o=8*i).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),o=parseInt(o[1],16)||0,n[14]=r,n[15]=o,M(a,n),a}function O(t){for(var e=0;e<t.length;e+=1)t[e]=function(t){for(var e="",n=0;n<4;n+=1)e+=E[t>>8*n+4&15]+E[t>>8*n&15];return e}(t[e]);return t.join("")}function I(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}function T(t){return t=/[\u0080-\uFFFF]/.test(t)?unescape(encodeURIComponent(t)):t}function U(t){for(var e=[],n=t.length,r=0;r<n-1;r+=2)e.push(parseInt(t.substr(r,2),16));return String.fromCharCode.apply(String,e)}function L(){this.reset()}O(C("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(t,e){var n=this.byteLength,r=I(t,n),t=n;return(t=void 0!==e?I(e,n):t)<r?new ArrayBuffer(0):(e=t-r,n=new ArrayBuffer(e),t=new Uint8Array(n),e=new Uint8Array(this,r,e),t.set(e),n)}),L.prototype.append=function(t){return this.appendBinary(T(t)),this},L.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;for(var e=this._buff.length,n=64;n<=e;n+=64)M(this._hash,F(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},L.prototype.end=function(t){for(var e,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<r;i+=1)o[i>>2]|=n.charCodeAt(i)<<(i%4<<3);return this._finish(o,r),e=O(this._hash),t&&(e=U(e)),this.reset(),e},L.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},L.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},L.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},L.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},L.prototype._finish=function(t,e){var n,r=e;if(t[r>>2]|=128<<(r%4<<3),55<r)for(M(this._hash,t),r=0;r<16;r+=1)t[r]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),e=parseInt(n[2],16),n=parseInt(n[1],16)||0,t[14]=e,t[15]=n,M(this._hash,t)},L.hash=function(t,e){return L.hashBinary(T(t),e)},L.hashBinary=function(t,e){t=O(C(t));return e?U(t):t},(L.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e,n,r,o,i,a=(n=this._buff.buffer,r=t,o=!0,(i=new Uint8Array(n.byteLength+r.byteLength)).set(new Uint8Array(n)),i.set(new Uint8Array(r),n.byteLength),o?i:i.buffer),u=a.length;for(this._length+=t.byteLength,e=64;e<=u;e+=64)M(this._hash,x(a.subarray(e-64,e)));return this._buff=e-64<u?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},L.ArrayBuffer.prototype.end=function(t){for(var e,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<r;i+=1)o[i>>2]|=n[i]<<(i%4<<3);return this._finish(o,r),e=O(this._hash),t&&(e=U(e)),this.reset(),e},L.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},L.ArrayBuffer.prototype.getState=function(){var t,e=L.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},L.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){for(var n=t.length,r=new ArrayBuffer(n),o=new Uint8Array(r),i=0;i<n;i+=1)o[i]=t.charCodeAt(i);return e?o:r}(t.buff,!0),L.prototype.setState.call(this,t)},L.ArrayBuffer.prototype.destroy=L.prototype.destroy,L.ArrayBuffer.prototype._finish=L.prototype._finish,L.ArrayBuffer.hash=function(t,e){t=O(function(t){for(var e,n,r,o,i=t.length,a=[1732584193,-271733879,-1732584194,271733878],u=64;u<=i;u+=64)M(a,x(t.subarray(u-64,u)));for(e=(t=u-64<i?t.subarray(u-64):new Uint8Array(0)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<e;u+=1)n[u>>2]|=t[u]<<(u%4<<3);if(n[u>>2]|=128<<(u%4<<3),55<u)for(M(a,n),u=0;u<16;u+=1)n[u]=0;return o=(o=8*i).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),o=parseInt(o[1],16)||0,n[14]=r,n[15]=o,M(a,n),a}(new Uint8Array(t)));return e?U(t):t};var Z={};function R(t,e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){e(t.target.result)}}function $(t,e){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(t){e(t.target.result)}}function D(t,n){$(t,function(t){var e=new L.ArrayBuffer;e.append(t),n(e.end())})}function P(t,e){e(URL.createObjectURL(t))}function N(t){URL.revokeObjectURL(Z[t].path)}function Q(n,r,o,i,a){var u=[],f=n.name.split(".")[1];D(n,function(t){for(var e=0;e<r;e++)u.push({file:n.slice(e*o,(e+1)*o),filename:t+i(e)+"."+f});a({filename:n.name,fileHash:t,hashFilename:t+"."+f,fileSize:n.size,chunkQuantity:r,chunkSize:o,chunks:u})})}function q(t,e,n,r){Q(t,e,Math.ceil(t.size/e),n,r)}function G(){var t,e=[];for(t in Z)e.push(t);return e}g=Object.freeze({__proto__:null,binding:function(t){t.addEventListener("change",function(t){for(var e=0;e<t.target.files.length;e++){var n=p.string(8),r=t.target.files[e];Z[n]={file:r,filename:r.name,filetype:r.type,fileSize:o(r.size/1024/1024,1)+" M",size:r.size},ids.push(n),function(t,n){R(t,function(t){Z[n].base64=t}),$(t,function(t){var e=new L.ArrayBuffer;e.append(t),Z[n].md5=e.end()}),P(t,function(t){Z[n].path=t})}(r,n)}})},base64:R,text:function(t,e){var n=new FileReader;n.readAsText(t),n.onload=function(t){e(t.target.result)}},arrayBuffer:$,md5:D,path:P,revokePath:N,fileSlicingByQuantity:q,fileSlicingByChunkSize:function(t,e,n,r,o){var i=Math.ceil(t.size/(1024*e));o&&o<i?q(t,o,n,r):Q(t,i,1024*e,n,r)},read:function(){return Z},readId:G,getFileById:function(t){return Z[t]},fileDelete:function(t){delete Z[t]},clear:function(){for(var t=G(),e=0;e<t.length;e++)N(t[e]);Z={}},version:"1.6.0"});function H(){console.log({version:H.version,calculate:t,oui:f,method:_,loading:"1.0.0",array:"1.4.0",object:"1.1.0",string:"1.0.0",listener:"1.2.0",file:"1.6.0"})}return H.version="1.5.0",H.calculate=r,H.oui=s,H.method=y,H.loading=b,H.array=m,H.object=A,H.string=k,H.listener=h,H.file=g,window.console&&window.console.log&&console.log(["      __         __  __                      __        ","     |__|.-----.|  ||  |.--.--..----..---.-.|__|.-----.","     |  ||  -__||  ||  ||  |  ||   _||  _  ||  ||     |","     |  ||_____||__||__||___  ||__|  |___._||__||__|__|","    |___|               |_____|                        "].join("\n")),H});
